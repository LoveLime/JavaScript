# WEB端实时通讯的四种方式

浏览器本身作为一个瘦客户端，不具备直接通过系统调用来达到和处于异地的另外一个客户端浏览器通信的功能。这和我们桌面应用的工作方式是不同的，通常桌面应用通过socket可以和远程主机上另外一端的一个进程建立TCP连接，从而达到全双工的即时通信。

浏览器从诞生开始一直走的是客户端请求服务器，服务器返回结果的模式，即使发展至今仍然没有任何改变。所以可以肯定的是，要想实现两个客户端的通信，必然要通过服务器进行信息的转发。例如A要和B通信，则应该是A先把信息发送给IM应用服务器，服务器根据A信息中携带的接收者将它再转发给B，同样B到A也是这种模式。

## Comet

实现Comet有两种方式：**长轮询**和**HTTP流**。

### 长轮询
既然Comet用长轮询来实现通信，那么短轮询又是什么呢？    
> 短轮询是定时向服务器发送请求，看有没有更新的数据，服务器收到请求后立马返回数据，不管有没有> 更新。 
>  
> 而长轮询是页面发起一个请求，然后服务器一直保持连接打开，直到有数据发送。
### HTTP流
浏览器向服务器发送一个请求，而服务器保持连接打开，然后周期性地向浏览器发送数据。